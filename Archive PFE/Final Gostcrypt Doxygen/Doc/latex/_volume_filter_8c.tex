\hypertarget{_volume_filter_8c}{}\section{Driver/\+Volume\+Filter.c File Reference}
\label{_volume_filter_8c}\index{Driver/\+Volume\+Filter.\+c@{Driver/\+Volume\+Filter.\+c}}


Order the irp, device filters received and manage the power for each device in order to send informations to the right device. Manage the queue lock for its own functions.  


{\ttfamily \#include \char`\"{}Gstdefs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Ntdriver.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Ntvol.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Drive\+Filter.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Volume\+Filter.\+h\char`\"{}}\newline
Include dependency graph for Volume\+Filter.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_volume_filter_8c__incl}
\end{center}
\end{figure}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{struct___drive_filter_extension}{Drive\+Filter\+Extension} \hyperlink{_volume_filter_8c_aa881e4f1b492d2b28760c630918d4b5c}{Volume\+Filter\+Extension}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
N\+T\+S\+T\+A\+T\+US \hyperlink{_volume_filter_8c_ab8a80822fc0f17dd6c661dc2c2f27b8b}{Volume\+Filter\+Add\+Device} (P\+D\+R\+I\+V\+E\+R\+\_\+\+O\+B\+J\+E\+CT driver\+Object, P\+D\+E\+V\+I\+C\+E\+\_\+\+O\+B\+J\+E\+CT pdo)
\begin{DoxyCompactList}\small\item\em Create Volume\+Filterextension Extension and put into the devices in argument and the filter device. \end{DoxyCompactList}\item 
N\+T\+S\+T\+A\+T\+US \hyperlink{_volume_filter_8c_a2e5e6f5f9653e4be76b7a1dbd8b6d55f}{Volume\+Filter\+Dispatch\+Irp} (P\+D\+E\+V\+I\+C\+E\+\_\+\+O\+B\+J\+E\+CT Device\+Object, P\+I\+RP Irp)
\begin{DoxyCompactList}\small\item\em Send irp to the right dispatcher depending on its value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_volume_filter_8c_a924995ccba0abf6f476cb40949767b18}\label{_volume_filter_8c_a924995ccba0abf6f476cb40949767b18}} 
uint32 {\bfseries Hidden\+Sys\+Leak\+Protection\+Count} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Order the irp, device filters received and manage the power for each device in order to send informations to the right device. Manage the queue lock for its own functions. 

\begin{DoxyVersion}{Version}
1.\+3.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
13/12/2016 
\end{DoxyDate}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{_volume_filter_8c_aa881e4f1b492d2b28760c630918d4b5c}\label{_volume_filter_8c_aa881e4f1b492d2b28760c630918d4b5c}} 
\index{Volume\+Filter.\+c@{Volume\+Filter.\+c}!Volume\+Filter\+Extension@{Volume\+Filter\+Extension}}
\index{Volume\+Filter\+Extension@{Volume\+Filter\+Extension}!Volume\+Filter.\+c@{Volume\+Filter.\+c}}
\subsubsection{\texorpdfstring{Volume\+Filter\+Extension}{VolumeFilterExtension}}
{\footnotesize\ttfamily typedef \hyperlink{struct___drive_filter_extension}{Drive\+Filter\+Extension} \hyperlink{_volume_filter_8c_aa881e4f1b492d2b28760c630918d4b5c}{Volume\+Filter\+Extension}}

Copyright (c) 2008-\/2011 True\+Crypt Developers Association. All rights reserved.

Governed by the True\+Crypt License 3.\+0 the full text of which is contained in the file License.\+txt included in True\+Crypt binary and source code distribution packages. 

\subsection{Function Documentation}
\mbox{\Hypertarget{_volume_filter_8c_ab8a80822fc0f17dd6c661dc2c2f27b8b}\label{_volume_filter_8c_ab8a80822fc0f17dd6c661dc2c2f27b8b}} 
\index{Volume\+Filter.\+c@{Volume\+Filter.\+c}!Volume\+Filter\+Add\+Device@{Volume\+Filter\+Add\+Device}}
\index{Volume\+Filter\+Add\+Device@{Volume\+Filter\+Add\+Device}!Volume\+Filter.\+c@{Volume\+Filter.\+c}}
\subsubsection{\texorpdfstring{Volume\+Filter\+Add\+Device()}{VolumeFilterAddDevice()}}
{\footnotesize\ttfamily N\+T\+S\+T\+A\+T\+US Volume\+Filter\+Add\+Device (\begin{DoxyParamCaption}\item[{P\+D\+R\+I\+V\+E\+R\+\_\+\+O\+B\+J\+E\+CT}]{driver\+Object,  }\item[{P\+D\+E\+V\+I\+C\+E\+\_\+\+O\+B\+J\+E\+CT}]{pdo }\end{DoxyParamCaption})}



Create Volume\+Filterextension Extension and put into the devices in argument and the filter device. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em P\+D\+E\+V\+I\+C\+E\+\_\+\+O\+B\+J\+E\+CT} & pdo \\
\hline
\mbox{\tt in}  & {\em P\+D\+R\+I\+V\+E\+R\+\_\+\+O\+B\+J\+E\+CT} & driver\+Object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+T\+S\+T\+A\+T\+US status 
\end{DoxyReturn}
\mbox{\Hypertarget{_volume_filter_8c_a2e5e6f5f9653e4be76b7a1dbd8b6d55f}\label{_volume_filter_8c_a2e5e6f5f9653e4be76b7a1dbd8b6d55f}} 
\index{Volume\+Filter.\+c@{Volume\+Filter.\+c}!Volume\+Filter\+Dispatch\+Irp@{Volume\+Filter\+Dispatch\+Irp}}
\index{Volume\+Filter\+Dispatch\+Irp@{Volume\+Filter\+Dispatch\+Irp}!Volume\+Filter.\+c@{Volume\+Filter.\+c}}
\subsubsection{\texorpdfstring{Volume\+Filter\+Dispatch\+Irp()}{VolumeFilterDispatchIrp()}}
{\footnotesize\ttfamily N\+T\+S\+T\+A\+T\+US Volume\+Filter\+Dispatch\+Irp (\begin{DoxyParamCaption}\item[{P\+D\+E\+V\+I\+C\+E\+\_\+\+O\+B\+J\+E\+CT}]{Device\+Object,  }\item[{P\+I\+RP}]{Irp }\end{DoxyParamCaption})}



Send irp to the right dispatcher depending on its value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em P\+I\+RP} & Irp \\
\hline
\mbox{\tt in}  & {\em P\+D\+E\+V\+I\+C\+E\+\_\+\+O\+B\+J\+E\+CT} & Device\+Object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+T\+S\+T\+A\+T\+US G\+S\+T\+Complete\+Irp (Irp, status, 0) status else 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_volume_filter_8c_a2e5e6f5f9653e4be76b7a1dbd8b6d55f_icgraph}
\end{center}
\end{figure}
