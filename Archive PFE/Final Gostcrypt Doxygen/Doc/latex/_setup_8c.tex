\hypertarget{_setup_8c}{}\section{Setup/\+Setup.c File Reference}
\label{_setup_8c}\index{Setup/\+Setup.\+c@{Setup/\+Setup.\+c}}


Manage the graphical interface for the installer. the files generated from other projects will be compressed and saved into the installer, when launching the extractor it will uncompress all the files that will make the program (executable archive).  


{\ttfamily \#include \char`\"{}Gstdefs.\+h\char`\"{}}\newline
{\ttfamily \#include $<$Sr\+Restore\+Pt\+Api.\+h$>$}\newline
{\ttfamily \#include $<$io.\+h$>$}\newline
{\ttfamily \#include $<$propkey.\+h$>$}\newline
{\ttfamily \#include $<$propvarutil.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Apidrvr.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Boot\+Encryption.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Boot/\+Windows/\+Boot\+Common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Combo.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Com\+Setup.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Dlgcode.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Language.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Registry.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Resource.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Dir.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Setup.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Self\+Extract.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Wizard.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../\+Common/\+Resource.\+h\char`\"{}}\newline
{\ttfamily \#include $<$shlobj.\+h$>$}\newline
Include dependency graph for Setup.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_setup_8c_ae7eeb45aceab0e4a2867080b5c9dc68f}\label{_setup_8c_ae7eeb45aceab0e4a2867080b5c9dc68f}} 
\#define {\bfseries W\+A\+I\+T\+\_\+\+P\+E\+R\+I\+OD}~3
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_setup_8c_a75b8fdda5ffaf47399191068d0526f87}{localcleanup} (void)
\begin{DoxyCompactList}\small\item\em Call the cleanup function, that will free and close objects. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_acaa2ec8636f04b8dda6b61c0860bab8a}{Stat\+Delete\+File} (char $\ast$lpsz\+File)
\begin{DoxyCompactList}\small\item\em Delete the lpsz\+File (maybe only if empty) \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_a64052226c61187709bd1f0adbfdfff57}{Stat\+Remove\+Directory} (char $\ast$lpsz\+Dir)
\begin{DoxyCompactList}\small\item\em Delete the lpsz\+Dir. \end{DoxyCompactList}\item 
H\+R\+E\+S\+U\+LT \hyperlink{_setup_8c_a7a146fd667ea4bc81c72ffc9e31c5927}{Create\+Link} (char $\ast$lpsz\+Path\+Obj, char $\ast$lpsz\+Arguments, char $\ast$lpsz\+Path\+Link)
\begin{DoxyCompactList}\small\item\em Create a shortcut linked to the program. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a7adf35b31dde6164bca9e9b8419a1ed7}{Get\+Program\+Path} (H\+W\+ND hwnd\+Dlg, char $\ast$path)
\begin{DoxyCompactList}\small\item\em Set the path to the program. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a18e2996580e48d28f95c736bdee7f947}{Status\+Message} (H\+W\+ND hwnd\+Dlg, char $\ast$string\+Id)
\begin{DoxyCompactList}\small\item\em Send a message giving information about the status of the window status. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_aa40bfdfb78c7e6f8151ea9ac0308a07e}{Status\+Message\+Param} (H\+W\+ND hwnd\+Dlg, char $\ast$string\+Id, char $\ast$param)
\begin{DoxyCompactList}\small\item\em Send a message to a item of the window. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a7eb13c17cc07f37c6a647cb2aa75b6d2}{Clear\+Log\+Window} (H\+W\+ND hwnd\+Dlg)
\begin{DoxyCompactList}\small\item\em Clear the log of the window. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a110384f45296194c2570ab8e7b8095a0}{Reg\+Message} (H\+W\+ND hwnd\+Dlg, char $\ast$txt)
\begin{DoxyCompactList}\small\item\em Set the registry message to an item on the display. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a6387fcf829dfb39869644e3788cdff69}{Copy\+Message} (H\+W\+ND hwnd\+Dlg, char $\ast$txt)
\begin{DoxyCompactList}\small\item\em Copy txt to an item on the display. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a54d41690f486a4e31c65995393c6fa8a}{Remove\+Message} (H\+W\+ND hwnd\+Dlg, char $\ast$txt)
\begin{DoxyCompactList}\small\item\em Remove txt from the display. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a9b6cad32990aaa2fe69840a28fda2655}{Icon\+Message} (H\+W\+ND hwnd\+Dlg, char $\ast$txt)
\begin{DoxyCompactList}\small\item\em Add an icon to the display. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_ae908b01bb7f1aac0273e0be000d3d91f}{Determine\+Upgrade\+Downgrade\+Status} (B\+O\+OL b\+Close\+Driver\+Handle, L\+O\+NG $\ast$driver\+Version\+Ptr)
\begin{DoxyCompactList}\small\item\em Find the driver version and determines the upgrade/downgrade status. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_a08b6e14fccb66b8af570c1746c765958}{Do\+Files\+Install} (H\+W\+ND hwnd\+Dlg, char $\ast$sz\+Dest\+Dir)
\begin{DoxyCompactList}\small\item\em Install all files. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_a9c806752f8f2fc35f9fbfdbdead323e0}{Do\+Reg\+Install} (H\+W\+ND hwnd\+Dlg, char $\ast$sz\+Dest\+Dir, B\+O\+OL b\+Install\+Type)
\begin{DoxyCompactList}\small\item\em Install the registery. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_aa71ec665c8465ab0ec9e93ec38e93cbd}{Do\+Application\+Data\+Uninstall} (H\+W\+ND hwnd\+Dlg)
\begin{DoxyCompactList}\small\item\em Uninstall the data application. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_ab5ad0d39d8529b7f52693d727c643889}{Do\+Reg\+Uninstall} (H\+W\+ND hwnd\+Dlg, B\+O\+OL b\+Remove\+Deprecated)
\begin{DoxyCompactList}\small\item\em Uninstall the register. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_ae4d73451e4ad46158465c2f3056cd3de}{Do\+Service\+Uninstall} (H\+W\+ND hwnd\+Dlg, char $\ast$lpsz\+Service)
\begin{DoxyCompactList}\small\item\em Uninstall the service. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_a747704da0f3dfd2319c6a52e7400f830}{Do\+Driver\+Unload} (H\+W\+ND hwnd\+Dlg)
\begin{DoxyCompactList}\small\item\em Unload the driver. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_a339d6b46e92c9afb45c0e3840831d829}{Upgrade\+Boot\+Loader} (H\+W\+ND hwnd\+Dlg)
\begin{DoxyCompactList}\small\item\em Upgrade the bootloader. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_a6e873f9c298a4e7e7bd9eddecb6b2279}{Do\+Shortcuts\+Uninstall} (H\+W\+ND hwnd\+Dlg, char $\ast$sz\+Dest\+Dir)
\begin{DoxyCompactList}\small\item\em Make the shortcut of uninstalled .exe. \end{DoxyCompactList}\item 
B\+O\+OL \hyperlink{_setup_8c_ac8a261f15da96f3ba244728f9385e47c}{Do\+Shortcuts\+Install} (H\+W\+ND hwnd\+Dlg, char $\ast$sz\+Dest\+Dir, B\+O\+OL b\+Prog\+Group, B\+O\+OL b\+Desktop\+Icon)
\begin{DoxyCompactList}\small\item\em Make the shortcut of installed .exe. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a1949bb0e50a6790554447eb7e678d32f}{Outcome\+Prompt} (H\+W\+ND hwnd\+Dlg, B\+O\+OL b\+OK)
\begin{DoxyCompactList}\small\item\em Print the outcome of installation and uninstallation. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a9eaf4b356f041b5070c04908431f67ba}{Do\+Uninstall} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Make the uninstall Of Gost\+Crypt. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_a91b4c5658ef52c8e0d3bd01fa3d9efad}{Do\+Install} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Make the installation of Gost\+Crypt. \end{DoxyCompactList}\item 
void \hyperlink{_setup_8c_af1de0a6df4503840594a6939a1dc9d4e}{Set\+Installation\+Path} (H\+W\+ND hwnd\+Dlg)
\begin{DoxyCompactList}\small\item\em Set the path to the installation. \end{DoxyCompactList}\item 
B\+O\+OL C\+A\+L\+L\+B\+A\+CK \hyperlink{_setup_8c_aeb63ddc41c71a4665d43f35db069a5f3}{Uninstall\+Dlg\+Proc} (H\+W\+ND hwnd\+Dlg, U\+I\+NT msg, W\+P\+A\+R\+AM w\+Param, L\+P\+A\+R\+AM l\+Param)
\begin{DoxyCompactList}\small\item\em Handler for uninstall only (install is handled by the wizard) Uninstall the dialogue window. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{_setup_8c_a0061eece8e3b46b9710d5a4c285d455e}\label{_setup_8c_a0061eece8e3b46b9710d5a4c285d455e}} 
int W\+I\+N\+A\+PI {\bfseries Win\+Main} (H\+I\+N\+S\+T\+A\+N\+CE h\+Instance, H\+I\+N\+S\+T\+A\+N\+CE h\+Prev\+Instance, char $\ast$lpsz\+Command\+Line, int n\+Cmd\+Show)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_setup_8c_a1e5610df6206a8fdc27f54f12383ed18}\label{_setup_8c_a1e5610df6206a8fdc27f54f12383ed18}} 
char {\bfseries Installation\+Path} \mbox{[}G\+S\+T\+\_\+\+M\+A\+X\+\_\+\+P\+A\+TH\mbox{]}
\item 
\mbox{\Hypertarget{_setup_8c_ad02255e59fb55a7821b619049eb611b9}\label{_setup_8c_ad02255e59fb55a7821b619049eb611b9}} 
char {\bfseries Setup\+Files\+Dir} \mbox{[}G\+S\+T\+\_\+\+M\+A\+X\+\_\+\+P\+A\+TH\mbox{]}
\item 
\mbox{\Hypertarget{_setup_8c_abc770032a4dca6f46b2dc7517b2ed19a}\label{_setup_8c_abc770032a4dca6f46b2dc7517b2ed19a}} 
char {\bfseries Uninstall\+Batch} \mbox{[}M\+A\+X\+\_\+\+P\+A\+TH\mbox{]}
\item 
\mbox{\Hypertarget{_setup_8c_adbf5fcb97e57351b671f6219fe316834}\label{_setup_8c_adbf5fcb97e57351b671f6219fe316834}} 
L\+O\+NG {\bfseries Installed\+Version} = 0
\item 
\mbox{\Hypertarget{_setup_8c_a72e128392641ab8f6006316d9316d78e}\label{_setup_8c_a72e128392641ab8f6006316d9316d78e}} 
B\+O\+OL {\bfseries b\+Uninstall} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a2f155822d7b02de7d30e15aaa282984e}\label{_setup_8c_a2f155822d7b02de7d30e15aaa282984e}} 
B\+O\+OL {\bfseries b\+Restart\+Required} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a814bb2684bbe098e408659a933a657d2}\label{_setup_8c_a814bb2684bbe098e408659a933a657d2}} 
B\+O\+OL {\bfseries b\+Make\+Package} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_acdcd78e3e500b52107d070fbf9e20bfd}\label{_setup_8c_acdcd78e3e500b52107d070fbf9e20bfd}} 
B\+O\+OL {\bfseries b\+Done} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a86df5e1ccf0f1d8a762327556095f844}\label{_setup_8c_a86df5e1ccf0f1d8a762327556095f844}} 
B\+O\+OL {\bfseries Rollback} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a14367bfec48ddb31500428a025ebdc5d}\label{_setup_8c_a14367bfec48ddb31500428a025ebdc5d}} 
B\+O\+OL {\bfseries b\+Upgrade} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a3ddff222119cd0fe7345487363ea1967}\label{_setup_8c_a3ddff222119cd0fe7345487363ea1967}} 
B\+O\+OL {\bfseries b\+Downgrade} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_ae2b1b936e4708fc878b95aac9c0c3314}\label{_setup_8c_ae2b1b936e4708fc878b95aac9c0c3314}} 
B\+O\+OL {\bfseries System\+Encryption\+Update} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a6dfe4388cba596ff9b86f15295711ed2}\label{_setup_8c_a6dfe4388cba596ff9b86f15295711ed2}} 
B\+O\+OL {\bfseries Portable\+Mode} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_aeb793f255a07c80d9322dd88e96e863e}\label{_setup_8c_aeb793f255a07c80d9322dd88e96e863e}} 
B\+O\+OL {\bfseries b\+Repair\+Mode} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a2829ce4e880ecfa85cb5ac45bdf6ae3c}\label{_setup_8c_a2829ce4e880ecfa85cb5ac45bdf6ae3c}} 
B\+O\+OL {\bfseries b\+Change\+Mode} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_ababb796ed5c1b8c4ca8db307bfe363ca}\label{_setup_8c_ababb796ed5c1b8c4ca8db307bfe363ca}} 
B\+O\+OL {\bfseries b\+Devm} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_acd22e51ea7e3326a8916b6aa04f567e4}\label{_setup_8c_acd22e51ea7e3326a8916b6aa04f567e4}} 
B\+O\+OL {\bfseries b\+Possibly\+First\+Time\+Install} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a7094a2a4435e75265feea6886374b8ec}\label{_setup_8c_a7094a2a4435e75265feea6886374b8ec}} 
B\+O\+OL {\bfseries b\+Uninstall\+In\+Progress} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_afadb4160111686b096c2f5383c02df1e}\label{_setup_8c_afadb4160111686b096c2f5383c02df1e}} 
B\+O\+OL {\bfseries Unload\+Driver} = T\+R\+UE
\item 
\mbox{\Hypertarget{_setup_8c_a9faf8d0e83b910fb89e8b710653cdc4f}\label{_setup_8c_a9faf8d0e83b910fb89e8b710653cdc4f}} 
B\+O\+OL {\bfseries b\+System\+Restore} = T\+R\+UE
\item 
\mbox{\Hypertarget{_setup_8c_ace91b5f050f36ca54c5765dc485728a3}\label{_setup_8c_ace91b5f050f36ca54c5765dc485728a3}} 
B\+O\+OL {\bfseries b\+Disable\+Swap\+Files} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_ad1b42320f7e700534d4bd81c016f2abf}\label{_setup_8c_ad1b42320f7e700534d4bd81c016f2abf}} 
B\+O\+OL {\bfseries b\+For\+All\+Users} = T\+R\+UE
\item 
\mbox{\Hypertarget{_setup_8c_ac2ffb1f07e4b73c631a0ebc9389d8f6c}\label{_setup_8c_ac2ffb1f07e4b73c631a0ebc9389d8f6c}} 
B\+O\+OL {\bfseries b\+Register\+File\+Ext} = T\+R\+UE
\item 
\mbox{\Hypertarget{_setup_8c_a134dcb3257a700e1365fb4ba1040aa54}\label{_setup_8c_a134dcb3257a700e1365fb4ba1040aa54}} 
B\+O\+OL {\bfseries b\+Add\+To\+Start\+Menu} = T\+R\+UE
\item 
\mbox{\Hypertarget{_setup_8c_a29f957779c0a0c2c122f0e7f7e196e68}\label{_setup_8c_a29f957779c0a0c2c122f0e7f7e196e68}} 
B\+O\+OL {\bfseries b\+Desktop\+Icon} = T\+R\+UE
\item 
\mbox{\Hypertarget{_setup_8c_ac0b6ce9d3bcc378bd68077fb1f706b68}\label{_setup_8c_ac0b6ce9d3bcc378bd68077fb1f706b68}} 
B\+O\+OL {\bfseries b\+Desktop\+Icon\+Status\+Determined} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{_setup_8c_a0be34ae63c234eaa92765cba4d2d45dd}\label{_setup_8c_a0be34ae63c234eaa92765cba4d2d45dd}} 
H\+M\+O\+D\+U\+LE volatile {\bfseries System\+Restore\+Dll} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Manage the graphical interface for the installer. the files generated from other projects will be compressed and saved into the installer, when launching the extractor it will uncompress all the files that will make the program (executable archive). 

\begin{DoxyVersion}{Version}
1.\+3.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
14/12/2016 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{_setup_8c_a7eb13c17cc07f37c6a647cb2aa75b6d2}\label{_setup_8c_a7eb13c17cc07f37c6a647cb2aa75b6d2}} 
\index{Setup.\+c@{Setup.\+c}!Clear\+Log\+Window@{Clear\+Log\+Window}}
\index{Clear\+Log\+Window@{Clear\+Log\+Window}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Clear\+Log\+Window()}{ClearLogWindow()}}
{\footnotesize\ttfamily void Clear\+Log\+Window (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg }\end{DoxyParamCaption})}



Clear the log of the window. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{_setup_8c_a7eb13c17cc07f37c6a647cb2aa75b6d2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a6387fcf829dfb39869644e3788cdff69}\label{_setup_8c_a6387fcf829dfb39869644e3788cdff69}} 
\index{Setup.\+c@{Setup.\+c}!Copy\+Message@{Copy\+Message}}
\index{Copy\+Message@{Copy\+Message}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Copy\+Message()}{CopyMessage()}}
{\footnotesize\ttfamily void Copy\+Message (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{txt }\end{DoxyParamCaption})}



Copy txt to an item on the display. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ txt \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{_setup_8c_a6387fcf829dfb39869644e3788cdff69_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a7a146fd667ea4bc81c72ffc9e31c5927}\label{_setup_8c_a7a146fd667ea4bc81c72ffc9e31c5927}} 
\index{Setup.\+c@{Setup.\+c}!Create\+Link@{Create\+Link}}
\index{Create\+Link@{Create\+Link}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Create\+Link()}{CreateLink()}}
{\footnotesize\ttfamily H\+R\+E\+S\+U\+LT Create\+Link (\begin{DoxyParamCaption}\item[{char $\ast$}]{lpsz\+Path\+Obj,  }\item[{char $\ast$}]{lpsz\+Arguments,  }\item[{char $\ast$}]{lpsz\+Path\+Link }\end{DoxyParamCaption})}



Create a shortcut linked to the program. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ lpsz\+Path\+Obj \\
\hline
\mbox{\tt in}  & {\em char} & $\ast$ lpsz\+Arguments \\
\hline
\mbox{\tt in}  & {\em char} & $\ast$ lpsz\+Path\+Link \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+R\+E\+S\+U\+LT hres 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_ae908b01bb7f1aac0273e0be000d3d91f}\label{_setup_8c_ae908b01bb7f1aac0273e0be000d3d91f}} 
\index{Setup.\+c@{Setup.\+c}!Determine\+Upgrade\+Downgrade\+Status@{Determine\+Upgrade\+Downgrade\+Status}}
\index{Determine\+Upgrade\+Downgrade\+Status@{Determine\+Upgrade\+Downgrade\+Status}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Determine\+Upgrade\+Downgrade\+Status()}{DetermineUpgradeDowngradeStatus()}}
{\footnotesize\ttfamily void Determine\+Upgrade\+Downgrade\+Status (\begin{DoxyParamCaption}\item[{B\+O\+OL}]{b\+Close\+Driver\+Handle,  }\item[{L\+O\+NG $\ast$}]{driver\+Version\+Ptr }\end{DoxyParamCaption})}



Find the driver version and determines the upgrade/downgrade status. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em L\+O\+NG} & $\ast$ driver\+Version\+Ptr \\
\hline
\mbox{\tt in}  & {\em B\+O\+OL} & b\+Close\+Driver\+Handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_aa71ec665c8465ab0ec9e93ec38e93cbd}\label{_setup_8c_aa71ec665c8465ab0ec9e93ec38e93cbd}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Application\+Data\+Uninstall@{Do\+Application\+Data\+Uninstall}}
\index{Do\+Application\+Data\+Uninstall@{Do\+Application\+Data\+Uninstall}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Application\+Data\+Uninstall()}{DoApplicationDataUninstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Application\+Data\+Uninstall (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg }\end{DoxyParamCaption})}



Uninstall the data application. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL b\+OK 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c_aa71ec665c8465ab0ec9e93ec38e93cbd_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a747704da0f3dfd2319c6a52e7400f830}\label{_setup_8c_a747704da0f3dfd2319c6a52e7400f830}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Driver\+Unload@{Do\+Driver\+Unload}}
\index{Do\+Driver\+Unload@{Do\+Driver\+Unload}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Driver\+Unload()}{DoDriverUnload()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Driver\+Unload (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg }\end{DoxyParamCaption})}



Unload the driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL F\+A\+L\+SE if (b\+Uninstall\+In\+Progress $\vert$$\vert$ b\+Downgrade) b\+Ok else 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c_a747704da0f3dfd2319c6a52e7400f830_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a08b6e14fccb66b8af570c1746c765958}\label{_setup_8c_a08b6e14fccb66b8af570c1746c765958}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Files\+Install@{Do\+Files\+Install}}
\index{Do\+Files\+Install@{Do\+Files\+Install}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Files\+Install()}{DoFilesInstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Files\+Install (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{sz\+Dest\+Dir }\end{DoxyParamCaption})}



Install all files. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ sz\+Dest\+Dir \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL F\+A\+L\+SE if (!\+Self\+Extract\+In\+Memory (sz\+Tmp)) F\+A\+L\+SE if (x $<$ 2) F\+A\+L\+SE if (!\+Silent \&\& Message\+BoxW (hwnd\+Dlg, sz\+Tmp2, lpsz\+Title, M\+B\+\_\+\+Y\+E\+S\+NO $\vert$ M\+B\+\_\+\+I\+C\+O\+N\+H\+A\+ND) != I\+D\+Y\+ES) b\+OK else 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a91b4c5658ef52c8e0d3bd01fa3d9efad}\label{_setup_8c_a91b4c5658ef52c8e0d3bd01fa3d9efad}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Install@{Do\+Install}}
\index{Do\+Install@{Do\+Install}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Install()}{DoInstall()}}
{\footnotesize\ttfamily void Do\+Install (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Make the installation of Gost\+Crypt. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em void} & $\ast$ arg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a9c806752f8f2fc35f9fbfdbdead323e0}\label{_setup_8c_a9c806752f8f2fc35f9fbfdbdead323e0}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Reg\+Install@{Do\+Reg\+Install}}
\index{Do\+Reg\+Install@{Do\+Reg\+Install}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Reg\+Install()}{DoRegInstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Reg\+Install (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{sz\+Dest\+Dir,  }\item[{B\+O\+OL}]{b\+Install\+Type }\end{DoxyParamCaption})}



Install the registery. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B\+O\+OL} & b\+Install\+Type \\
\hline
\mbox{\tt in}  & {\em char} & $\ast$ sz\+Dest\+Dir \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL T\+R\+UE if (System\+Encryption\+Update) F\+A\+L\+SE if (Is\+O\+S\+At\+Least (W\+I\+N\+\_\+\+V\+I\+S\+TA) \&\& !\+Register\+Com\+Servers (sz\+Dir)) b\+OK else 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_ab5ad0d39d8529b7f52693d727c643889}\label{_setup_8c_ab5ad0d39d8529b7f52693d727c643889}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Reg\+Uninstall@{Do\+Reg\+Uninstall}}
\index{Do\+Reg\+Uninstall@{Do\+Reg\+Uninstall}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Reg\+Uninstall()}{DoRegUninstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Reg\+Uninstall (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{B\+O\+OL}]{b\+Remove\+Deprecated }\end{DoxyParamCaption})}



Uninstall the register. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B\+O\+OL} & b\+Remove\+Deprecated \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL b\+OK 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c_ab5ad0d39d8529b7f52693d727c643889_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_ae4d73451e4ad46158465c2f3056cd3de}\label{_setup_8c_ae4d73451e4ad46158465c2f3056cd3de}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Service\+Uninstall@{Do\+Service\+Uninstall}}
\index{Do\+Service\+Uninstall@{Do\+Service\+Uninstall}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Service\+Uninstall()}{DoServiceUninstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Service\+Uninstall (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{lpsz\+Service }\end{DoxyParamCaption})}



Uninstall the service. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ lpsz\+Service \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL b\+OK 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c_ae4d73451e4ad46158465c2f3056cd3de_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_ac8a261f15da96f3ba244728f9385e47c}\label{_setup_8c_ac8a261f15da96f3ba244728f9385e47c}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Shortcuts\+Install@{Do\+Shortcuts\+Install}}
\index{Do\+Shortcuts\+Install@{Do\+Shortcuts\+Install}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Shortcuts\+Install()}{DoShortcutsInstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Shortcuts\+Install (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{sz\+Dest\+Dir,  }\item[{B\+O\+OL}]{b\+Prog\+Group,  }\item[{B\+O\+OL}]{b\+Desktop\+Icon }\end{DoxyParamCaption})}



Make the shortcut of installed .exe. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B\+O\+OL} & b\+Desktop\+Icon \\
\hline
\mbox{\tt in}  & {\em B\+O\+OL} & b\+Prog\+Group \\
\hline
\mbox{\tt in}  & {\em char} & $\ast$ sz\+Dest\+Dir \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL T\+R\+UE if (b\+Prog\+Group == F\+A\+L\+SE \&\& b\+Desktop\+Icon == F\+A\+L\+SE) b\+Ok else 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a6e873f9c298a4e7e7bd9eddecb6b2279}\label{_setup_8c_a6e873f9c298a4e7e7bd9eddecb6b2279}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Shortcuts\+Uninstall@{Do\+Shortcuts\+Uninstall}}
\index{Do\+Shortcuts\+Uninstall@{Do\+Shortcuts\+Uninstall}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Shortcuts\+Uninstall()}{DoShortcutsUninstall()}}
{\footnotesize\ttfamily B\+O\+OL Do\+Shortcuts\+Uninstall (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{sz\+Dest\+Dir }\end{DoxyParamCaption})}



Make the shortcut of uninstalled .exe. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ sz\+Dest\+Dir \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL b\+OK 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{_setup_8c_a6e873f9c298a4e7e7bd9eddecb6b2279_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a9eaf4b356f041b5070c04908431f67ba}\label{_setup_8c_a9eaf4b356f041b5070c04908431f67ba}} 
\index{Setup.\+c@{Setup.\+c}!Do\+Uninstall@{Do\+Uninstall}}
\index{Do\+Uninstall@{Do\+Uninstall}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Do\+Uninstall()}{DoUninstall()}}
{\footnotesize\ttfamily void Do\+Uninstall (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Make the uninstall Of Gost\+Crypt. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em void} & $\ast$ arg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a7adf35b31dde6164bca9e9b8419a1ed7}\label{_setup_8c_a7adf35b31dde6164bca9e9b8419a1ed7}} 
\index{Setup.\+c@{Setup.\+c}!Get\+Program\+Path@{Get\+Program\+Path}}
\index{Get\+Program\+Path@{Get\+Program\+Path}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Get\+Program\+Path()}{GetProgramPath()}}
{\footnotesize\ttfamily void Get\+Program\+Path (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{path }\end{DoxyParamCaption})}



Set the path to the program. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ path \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a9b6cad32990aaa2fe69840a28fda2655}\label{_setup_8c_a9b6cad32990aaa2fe69840a28fda2655}} 
\index{Setup.\+c@{Setup.\+c}!Icon\+Message@{Icon\+Message}}
\index{Icon\+Message@{Icon\+Message}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Icon\+Message()}{IconMessage()}}
{\footnotesize\ttfamily void Icon\+Message (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{txt }\end{DoxyParamCaption})}



Add an icon to the display. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ txt \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{_setup_8c_a9b6cad32990aaa2fe69840a28fda2655_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a75b8fdda5ffaf47399191068d0526f87}\label{_setup_8c_a75b8fdda5ffaf47399191068d0526f87}} 
\index{Setup.\+c@{Setup.\+c}!localcleanup@{localcleanup}}
\index{localcleanup@{localcleanup}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{localcleanup()}{localcleanup()}}
{\footnotesize\ttfamily void localcleanup (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Call the cleanup function, that will free and close objects. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c_a75b8fdda5ffaf47399191068d0526f87_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{_setup_8c_a75b8fdda5ffaf47399191068d0526f87_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a1949bb0e50a6790554447eb7e678d32f}\label{_setup_8c_a1949bb0e50a6790554447eb7e678d32f}} 
\index{Setup.\+c@{Setup.\+c}!Outcome\+Prompt@{Outcome\+Prompt}}
\index{Outcome\+Prompt@{Outcome\+Prompt}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Outcome\+Prompt()}{OutcomePrompt()}}
{\footnotesize\ttfamily void Outcome\+Prompt (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{B\+O\+OL}]{b\+OK }\end{DoxyParamCaption})}



Print the outcome of installation and uninstallation. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B\+O\+OL} & b\+OK \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a110384f45296194c2570ab8e7b8095a0}\label{_setup_8c_a110384f45296194c2570ab8e7b8095a0}} 
\index{Setup.\+c@{Setup.\+c}!Reg\+Message@{Reg\+Message}}
\index{Reg\+Message@{Reg\+Message}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Reg\+Message()}{RegMessage()}}
{\footnotesize\ttfamily void Reg\+Message (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{txt }\end{DoxyParamCaption})}



Set the registry message to an item on the display. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ txt \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{_setup_8c_a110384f45296194c2570ab8e7b8095a0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a54d41690f486a4e31c65995393c6fa8a}\label{_setup_8c_a54d41690f486a4e31c65995393c6fa8a}} 
\index{Setup.\+c@{Setup.\+c}!Remove\+Message@{Remove\+Message}}
\index{Remove\+Message@{Remove\+Message}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Remove\+Message()}{RemoveMessage()}}
{\footnotesize\ttfamily void Remove\+Message (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{txt }\end{DoxyParamCaption})}



Remove txt from the display. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ txt \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=341pt]{_setup_8c_a54d41690f486a4e31c65995393c6fa8a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_af1de0a6df4503840594a6939a1dc9d4e}\label{_setup_8c_af1de0a6df4503840594a6939a1dc9d4e}} 
\index{Setup.\+c@{Setup.\+c}!Set\+Installation\+Path@{Set\+Installation\+Path}}
\index{Set\+Installation\+Path@{Set\+Installation\+Path}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Set\+Installation\+Path()}{SetInstallationPath()}}
{\footnotesize\ttfamily void Set\+Installation\+Path (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg }\end{DoxyParamCaption})}



Set the path to the installation. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\subsubsection*{Default \textquotesingle{}Uninstall\+String\textquotesingle{} registry strings written by past versions of Gost\+Crypt\+: }

1.\+0 C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 1.\+0a C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 2.\+0 C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 2.\+1 C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 2.\+1a C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 3.\+0 C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 3.\+0a C\+: Setup.\+exe /u \mbox{[}optional\mbox{]} 3.\+1 The Uninstall\+String was N\+E\+V\+ER written (fortunately, 3.\+1a replaced 3.\+1 after 2 weeks) 3.\+1a C\+: Setup.\+exe /u 4.\+0 C\+: Setup.\+exe /u C\+: Files 4.\+1 C\+: Setup.\+exe /u C\+: Files 4.\+2 C\+: Setup.\+exe /u C\+: Files 4.\+2a C\+: Setup.\+exe /u C\+: Files 4.\+3 \char`\"{}\+C\+:\textbackslash{}\+Program Files\textbackslash{}\+Gost\+Crypt\textbackslash{}\+Gost\+Crypt Setup.\+exe\char`\"{} /u C\+: Files\textbackslash{} 4.\+3a \char`\"{}\+C\+:\textbackslash{}\+Program Files\textbackslash{}\+Gost\+Crypt\textbackslash{}\+Gost\+Crypt Setup.\+exe\char`\"{} /u C\+: Files\textbackslash{} 5.\+0+ \char`\"{}\+C\+:\textbackslash{}\+Program Files\textbackslash{}\+Gost\+Crypt\textbackslash{}\+Gost\+Crypt Setup.\+exe\char`\"{} /u

Note\+: In versions 1.\+0-\/3.\+0a the user was able to choose whether to install the uninstaller. The default was to install it. If it wasn\textquotesingle{}t installed, there was no Uninstall\+String.\mbox{\Hypertarget{_setup_8c_acaa2ec8636f04b8dda6b61c0860bab8a}\label{_setup_8c_acaa2ec8636f04b8dda6b61c0860bab8a}} 
\index{Setup.\+c@{Setup.\+c}!Stat\+Delete\+File@{Stat\+Delete\+File}}
\index{Stat\+Delete\+File@{Stat\+Delete\+File}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Stat\+Delete\+File()}{StatDeleteFile()}}
{\footnotesize\ttfamily B\+O\+OL Stat\+Delete\+File (\begin{DoxyParamCaption}\item[{char $\ast$}]{lpsz\+File }\end{DoxyParamCaption})}



Delete the lpsz\+File (maybe only if empty) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ lpsz\+File \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+Ol Delete\+File (lpsz\+File) if (\+\_\+stat64 (lpsz\+File, \&st) == 0) T\+R\+UE else 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{_setup_8c_acaa2ec8636f04b8dda6b61c0860bab8a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a64052226c61187709bd1f0adbfdfff57}\label{_setup_8c_a64052226c61187709bd1f0adbfdfff57}} 
\index{Setup.\+c@{Setup.\+c}!Stat\+Remove\+Directory@{Stat\+Remove\+Directory}}
\index{Stat\+Remove\+Directory@{Stat\+Remove\+Directory}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Stat\+Remove\+Directory()}{StatRemoveDirectory()}}
{\footnotesize\ttfamily B\+O\+OL Stat\+Remove\+Directory (\begin{DoxyParamCaption}\item[{char $\ast$}]{lpsz\+Dir }\end{DoxyParamCaption})}



Delete the lpsz\+Dir. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ lpsz\+Dir \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL Remove\+Directory (lpsz\+Dir) if (\+\_\+stat64 (lpsz\+Dir, \&st) == 0) T\+R\+UE else 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_setup_8c_a64052226c61187709bd1f0adbfdfff57_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_a18e2996580e48d28f95c736bdee7f947}\label{_setup_8c_a18e2996580e48d28f95c736bdee7f947}} 
\index{Setup.\+c@{Setup.\+c}!Status\+Message@{Status\+Message}}
\index{Status\+Message@{Status\+Message}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Status\+Message()}{StatusMessage()}}
{\footnotesize\ttfamily void Status\+Message (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{string\+Id }\end{DoxyParamCaption})}



Send a message giving information about the status of the window status. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ string\+Id \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{_setup_8c_a18e2996580e48d28f95c736bdee7f947_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_aa40bfdfb78c7e6f8151ea9ac0308a07e}\label{_setup_8c_aa40bfdfb78c7e6f8151ea9ac0308a07e}} 
\index{Setup.\+c@{Setup.\+c}!Status\+Message\+Param@{Status\+Message\+Param}}
\index{Status\+Message\+Param@{Status\+Message\+Param}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Status\+Message\+Param()}{StatusMessageParam()}}
{\footnotesize\ttfamily void Status\+Message\+Param (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{char $\ast$}]{string\+Id,  }\item[{char $\ast$}]{param }\end{DoxyParamCaption})}



Send a message to a item of the window. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ param \\
\hline
\mbox{\tt in}  & {\em char} & $\ast$ string\+Id \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{_setup_8c_aa40bfdfb78c7e6f8151ea9ac0308a07e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_setup_8c_aeb63ddc41c71a4665d43f35db069a5f3}\label{_setup_8c_aeb63ddc41c71a4665d43f35db069a5f3}} 
\index{Setup.\+c@{Setup.\+c}!Uninstall\+Dlg\+Proc@{Uninstall\+Dlg\+Proc}}
\index{Uninstall\+Dlg\+Proc@{Uninstall\+Dlg\+Proc}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Uninstall\+Dlg\+Proc()}{UninstallDlgProc()}}
{\footnotesize\ttfamily B\+O\+OL C\+A\+L\+L\+B\+A\+CK Uninstall\+Dlg\+Proc (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg,  }\item[{U\+I\+NT}]{msg,  }\item[{W\+P\+A\+R\+AM}]{w\+Param,  }\item[{L\+P\+A\+R\+AM}]{l\+Param }\end{DoxyParamCaption})}



Handler for uninstall only (install is handled by the wizard) Uninstall the dialogue window. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em L\+P\+A\+R\+AM} & l\+Param \\
\hline
\mbox{\tt in}  & {\em W\+P\+A\+R\+AM} & w\+Param \\
\hline
\mbox{\tt in}  & {\em U\+I\+NT} & msg \\
\hline
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL 1 case W\+M\+\_\+\+I\+N\+I\+T\+D\+I\+A\+L\+OG 1 case W\+M\+\_\+\+S\+Y\+S\+C\+O\+M\+M\+A\+ND if (lw == I\+D\+C\+\_\+\+A\+B\+O\+UT) 0 case W\+M\+\_\+\+S\+Y\+S\+C\+O\+M\+M\+A\+ND else 1 case W\+M\+\_\+\+C\+O\+M\+M\+A\+ND if (b\+Done \&\& (lw == I\+D\+C\+\_\+\+U\+N\+I\+N\+S\+T\+A\+LL)) 1 case W\+M\+\_\+\+C\+O\+M\+M\+A\+ND if (lw == I\+D\+C\+\_\+\+U\+N\+I\+N\+S\+T\+A\+LL) 1 case W\+M\+\_\+\+C\+O\+M\+M\+A\+ND if (lw == I\+D\+C\+\_\+\+S\+Y\+S\+T\+E\+M\+\_\+\+R\+E\+S\+T\+O\+RE) 1 case W\+M\+\_\+\+C\+O\+M\+M\+A\+ND if (lw == I\+D\+C\+A\+N\+C\+EL) 0 case W\+M\+\_\+\+C\+O\+M\+M\+A\+ND else 1 case G\+S\+T\+\_\+\+A\+P\+P\+M\+S\+G\+\_\+\+U\+N\+I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+U\+C\+C\+E\+SS 1 case W\+M\+\_\+\+C\+L\+O\+SE if (b\+Uninstall\+In\+Progres \&\& Ask\+No\+Yes(\char`\"{}\+C\+O\+N\+F\+I\+R\+M\+\_\+\+E\+X\+I\+T\+\_\+\+U\+N\+I\+V\+E\+R\+S\+A\+L\char`\"{}) == I\+D\+NO) 1 case W\+M\+\_\+\+C\+L\+O\+SE else 0 else 
\end{DoxyReturn}
\mbox{\Hypertarget{_setup_8c_a339d6b46e92c9afb45c0e3840831d829}\label{_setup_8c_a339d6b46e92c9afb45c0e3840831d829}} 
\index{Setup.\+c@{Setup.\+c}!Upgrade\+Boot\+Loader@{Upgrade\+Boot\+Loader}}
\index{Upgrade\+Boot\+Loader@{Upgrade\+Boot\+Loader}!Setup.\+c@{Setup.\+c}}
\subsubsection{\texorpdfstring{Upgrade\+Boot\+Loader()}{UpgradeBootLoader()}}
{\footnotesize\ttfamily B\+O\+OL Upgrade\+Boot\+Loader (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd\+Dlg }\end{DoxyParamCaption})}



Upgrade the bootloader. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em H\+W\+ND} & hwnd\+Dlg \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+O\+OL T\+R\+UE if (!\+System\+Encryption\+Update) F\+A\+L\+SE catch (Exception \&e) T\+R\+UE else 
\end{DoxyReturn}
