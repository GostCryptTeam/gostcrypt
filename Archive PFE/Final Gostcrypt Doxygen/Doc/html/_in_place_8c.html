<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gostcrypt: Format/InPlace.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gostcrypt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dda9b7d7d71d59d5008f31cfd0fd7b60.html">Format</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">InPlace.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Actions on cluster, header &amp; filesystem.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &quot;Gstdefs.h&quot;</code><br />
<code>#include &quot;Platform/Finally.h&quot;</code><br />
<code>#include &quot;Endian.h&quot;</code><br />
<code>#include &quot;Common.h&quot;</code><br />
<code>#include &quot;Crc.h&quot;</code><br />
<code>#include &quot;Dlgcode.h&quot;</code><br />
<code>#include &quot;Language.h&quot;</code><br />
<code>#include &quot;Gstformat.h&quot;</code><br />
<code>#include &quot;Volumes.h&quot;</code><br />
<code>#include &quot;InPlace.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for InPlace.c:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c__incl.png" border="0" usemap="#_format_2_in_place_8c" alt=""/></div>
<map name="_format_2_in_place_8c" id="_format_2_in_place_8c">
<area shape="rect" id="node5" href="_gstdefs_8h_source.html" title="Gstdefs.h" alt="" coords="844,453,923,480"/>
<area shape="rect" id="node8" href="_finally_8h_source.html" title="Platform/Finally.h" alt="" coords="441,80,563,107"/>
<area shape="rect" id="node16" href="_endian_8h_source.html" title="Endian.h" alt="" coords="753,304,827,331"/>
<area shape="rect" id="node17" href="_common_8h_source.html" title="Common.h" alt="" coords="909,229,994,256"/>
<area shape="rect" id="node26" href="_crc_8h_source.html" title="Crc.h" alt="" coords="675,304,729,331"/>
<area shape="rect" id="node27" href="_dlgcode_8h_source.html" title="Dlgcode.h" alt="" coords="993,80,1073,107"/>
<area shape="rect" id="node30" href="_volumes_8h_source.html" title="Volumes.h" alt="" coords="1411,229,1495,256"/>
<area shape="rect" id="node33" href="_language_8h_source.html" title="Language.h" alt="" coords="1168,80,1257,107"/>
<area shape="rect" id="node35" href="_gstformat_8h_source.html" title="Gstformat.h" alt="" coords="827,155,918,181"/>
<area shape="rect" id="node36" href="_in_place_8h_source.html" title="InPlace.h" alt="" coords="1469,155,1545,181"/>
<area shape="rect" id="node9" href="_platform_base_8h_source.html" title="PlatformBase.h" alt="" coords="404,155,515,181"/>
<area shape="rect" id="node18" href="_crypto_8h_source.html" title="Crypto.h" alt="" coords="1163,304,1233,331"/>
<area shape="rect" id="node19" href="_gost_cipher_8h_source.html" title="GostCipher.h" alt="" coords="997,379,1095,405"/>
<area shape="rect" id="node20" href="_grasshopper_cipher_8h_source.html" title="GrasshopperCipher.h" alt="" coords="1119,379,1263,405"/>
<area shape="rect" id="node21" href="_stribog_8h_source.html" title="Stribog.h" alt="" coords="1287,379,1362,405"/>
<area shape="rect" id="node22" href="_whirlpool_8h_source.html" title="Whirlpool.h" alt="" coords="1592,379,1679,405"/>
<area shape="rect" id="node23" href="_gost_hash_8h_source.html" title="GostHash.h" alt="" coords="1386,379,1477,405"/>
<area shape="rect" id="node24" href="_gf_mul_8h_source.html" title="GfMul.h" alt="" coords="1501,379,1567,405"/>
<area shape="rect" id="node25" href="_password_8h_source.html" title="Password.h" alt="" coords="1703,379,1794,405"/>
<area shape="rect" id="node28" href="_apidrvr_8h_source.html" title="Apidrvr.h" alt="" coords="1147,155,1219,181"/>
<area shape="rect" id="node31" href="_wipe_8h_source.html" title="Wipe.h" alt="" coords="1019,229,1081,256"/>
<area shape="rect" id="node32" href="_keyfiles_8h_source.html" title="Keyfiles.h" alt="" coords="993,155,1072,181"/>
<area shape="rect" id="node29" href="_boot_defs_8h_source.html" title="Boot/Windows/BootDefs.h" alt="" coords="1212,229,1387,256"/>
<area shape="rect" id="node37" href="_format_8h_source.html" title="Format.h" alt="" coords="1662,304,1737,331"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a775d3a3797dd03263943cebceb04f00a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a775d3a3797dd03263943cebceb04f00a">GST_LOCAL_WIN32_WINNT_OVERRIDE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a775d3a3797dd03263943cebceb04f00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50762666aa00bd3a4308158510f1748"><td class="memItemLeft" align="right" valign="top"><a id="ac50762666aa00bd3a4308158510f1748"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_WIN32_WINNT</b>&#160;&#160;&#160;0x0600</td></tr>
<tr class="separator:ac50762666aa00bd3a4308158510f1748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f88cdfff6f4d3c70920ef39d8c12813"><td class="memItemLeft" align="right" valign="top"><a id="a5f88cdfff6f4d3c70920ef39d8c12813"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GST_MAX_NONSYS_INPLACE_ENC_WORK_CHUNK_SIZE</b>&#160;&#160;&#160;(2048 * BYTES_PER_KB)</td></tr>
<tr class="separator:a5f88cdfff6f4d3c70920ef39d8c12813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17d38342c92c2e54bcde4907e0b100f"><td class="memItemLeft" align="right" valign="top"><a id="aa17d38342c92c2e54bcde4907e0b100f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GST_INITIAL_NTFS_CONCEAL_PORTION_SIZE</b>&#160;&#160;&#160;(2 * GST_MAX_VOLUME_SECTOR_SIZE)</td></tr>
<tr class="separator:aa17d38342c92c2e54bcde4907e0b100f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd48ea323bedef5ff6bf27dc64c9eec4"><td class="memItemLeft" align="right" valign="top"><a id="acd48ea323bedef5ff6bf27dc64c9eec4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GST_NTFS_CONCEAL_CONSTANT</b>&#160;&#160;&#160;0xFF</td></tr>
<tr class="separator:acd48ea323bedef5ff6bf27dc64c9eec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9aac3750c7dc50b1a9d06aa64d39be"><td class="memItemLeft" align="right" valign="top"><a id="a7d9aac3750c7dc50b1a9d06aa64d39be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GST_NONSYS_INPLACE_ENC_HEADER_UPDATE_INTERVAL</b>&#160;&#160;&#160;(64 * BYTES_PER_MB)</td></tr>
<tr class="separator:a7d9aac3750c7dc50b1a9d06aa64d39be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896666542257af1a1f7170e4ef44fa3f"><td class="memItemLeft" align="right" valign="top"><a id="a896666542257af1a1f7170e4ef44fa3f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GST_NONSYS_INPLACE_ENC_MIN_VOL_SIZE</b>&#160;&#160;&#160;(GST_TOTAL_VOLUME_HEADERS_SIZE + GST_MIN_NTFS_FS_SIZE * 2)</td></tr>
<tr class="separator:a896666542257af1a1f7170e4ef44fa3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9475a61d76001ed2c478951ea1dc17ca"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a9475a61d76001ed2c478951ea1dc17ca">CheckRequirementsForNonSysInPlaceEnc</a> (const char *devicePath, BOOL silent)</td></tr>
<tr class="memdesc:a9475a61d76001ed2c478951ea1dc17ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the partition Checks if the filesystem is formated in NTFS Checks if the filesystem can be safely shrunk Determines the filesystem size and checks if its long enough Checks free space on filesystem Checks if sector size is supported.  <a href="#a9475a61d76001ed2c478951ea1dc17ca">More...</a><br /></td></tr>
<tr class="separator:a9475a61d76001ed2c478951ea1dc17ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6370868e40894b842cb36a61b82f3185"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a6370868e40894b842cb36a61b82f3185">EncryptPartitionInPlaceBegin</a> (volatile <a class="el" href="struct_f_o_r_m_a_t___v_o_l___p_a_r_a_m_e_t_e_r_s.html">FORMAT_VOL_PARAMETERS</a> *volParams, volatile HANDLE *outHandle, WipeAlgorithmId wipeAlgorithm)</td></tr>
<tr class="memdesc:a6370868e40894b842cb36a61b82f3185"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gain raw access, shrink the filesystem Create header backup on the partition. Decrypt the backup header to verify it has been correctly written Conceal the NTFS filesystem If a drive letter is assigned to the device, remove it Add the wizard to the system startup sequence if appropriate.  <a href="#a6370868e40894b842cb36a61b82f3185">More...</a><br /></td></tr>
<tr class="separator:a6370868e40894b842cb36a61b82f3185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b99a80c929c1a59e5bfe118bed484a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a75b99a80c929c1a59e5bfe118bed484a">EncryptPartitionInPlaceResume</a> (HANDLE dev, volatile <a class="el" href="struct_f_o_r_m_a_t___v_o_l___p_a_r_a_m_e_t_e_r_s.html">FORMAT_VOL_PARAMETERS</a> *volParams, WipeAlgorithmId wipeAlgorithm, volatile BOOL *bTryToCorrectReadErrors)</td></tr>
<tr class="memdesc:a75b99a80c929c1a59e5bfe118bed484a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume the encryption of the partition.  <a href="#a75b99a80c929c1a59e5bfe118bed484a">More...</a><br /></td></tr>
<tr class="separator:a75b99a80c929c1a59e5bfe118bed484a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40985f7b9b7fcbc39c425e0443cb664"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#ac40985f7b9b7fcbc39c425e0443cb664">FastVolumeHeaderUpdate</a> (HANDLE dev, <a class="el" href="struct_c_r_y_p_t_o___i_n_f_o__t.html">CRYPTO_INFO</a> *headerCryptoInfo, <a class="el" href="struct_c_r_y_p_t_o___i_n_f_o__t.html">CRYPTO_INFO</a> *masterCryptoInfo, __int64 deviceSize)</td></tr>
<tr class="memdesc:ac40985f7b9b7fcbc39c425e0443cb664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the volume header.  <a href="#ac40985f7b9b7fcbc39c425e0443cb664">More...</a><br /></td></tr>
<tr class="separator:ac40985f7b9b7fcbc39c425e0443cb664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1ee15344595fd5805894c814d35d93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a6d1ee15344595fd5805894c814d35d93">ShowInPlaceEncErrMsgWAltSteps</a> (char *iniStrId, BOOL bErr)</td></tr>
<tr class="memdesc:a6d1ee15344595fd5805894c814d35d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show error or warining.  <a href="#a6d1ee15344595fd5805894c814d35d93">More...</a><br /></td></tr>
<tr class="separator:a6d1ee15344595fd5805894c814d35d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dfd12e4ac63e5ffa4e47c017607d16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#ae9dfd12e4ac63e5ffa4e47c017607d16">SetNonSysInplaceEncUIStatus</a> (int nonSysInplaceEncStatus)</td></tr>
<tr class="memdesc:ae9dfd12e4ac63e5ffa4e47c017607d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change NonSysInplaceEncStatus value.  <a href="#ae9dfd12e4ac63e5ffa4e47c017607d16">More...</a><br /></td></tr>
<tr class="separator:ae9dfd12e4ac63e5ffa4e47c017607d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6f94a57238f4c66a4b404aa19e1dce"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a4f6f94a57238f4c66a4b404aa19e1dce">SaveNonSysInPlaceEncSettings</a> (int delta, WipeAlgorithmId newWipeAlgorithm)</td></tr>
<tr class="memdesc:a4f6f94a57238f4c66a4b404aa19e1dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in settings.  <a href="#a4f6f94a57238f4c66a4b404aa19e1dce">More...</a><br /></td></tr>
<tr class="separator:a4f6f94a57238f4c66a4b404aa19e1dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec0e7e82e69bdb79755dabc8f42edbd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a7ec0e7e82e69bdb79755dabc8f42edbd">ZeroUnreadableSectors</a> (HANDLE dev, LARGE_INTEGER startOffset, int64 size, int sectorSize, <a class="el" href="union_u_i_n_t64___s_t_r_u_c_t.html">uint64</a> *zeroedSectorCount)</td></tr>
<tr class="memdesc:a7ec0e7e82e69bdb79755dabc8f42edbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repairs damaged sectors (i.e. those with read errors) by zeroing them. Note that this operating fails if there are any write errors.  <a href="#a7ec0e7e82e69bdb79755dabc8f42edbd">More...</a><br /></td></tr>
<tr class="separator:a7ec0e7e82e69bdb79755dabc8f42edbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cafb8de24df4b57cef88272ac6445e1"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_in_place_8c.html#a1cafb8de24df4b57cef88272ac6445e1">MoveClustersBeforeThreshold</a> (HANDLE volumeHandle, PWSTR volumeDevicePath, int64 clusterThreshold)</td></tr>
<tr class="memdesc:a1cafb8de24df4b57cef88272ac6445e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the cluster before threshold.  <a href="#a1cafb8de24df4b57cef88272ac6445e1">More...</a><br /></td></tr>
<tr class="separator:a1cafb8de24df4b57cef88272ac6445e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Actions on cluster, header &amp; filesystem. </p>
<dl class="section version"><dt>Version</dt><dd>1.3.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14/12/2016 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a775d3a3797dd03263943cebceb04f00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a775d3a3797dd03263943cebceb04f00a">&#9670;&nbsp;</a></span>GST_LOCAL_WIN32_WINNT_OVERRIDE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GST_LOCAL_WIN32_WINNT_OVERRIDE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright (c) 2008-2010 TrueCrypt Developers Association. All rights reserved.</p>
<p>Governed by the TrueCrypt License 3.0 the full text of which is contained in the file License.txt included in TrueCrypt binary and source code distribution packages. In this file, _WIN32_WINNT is defined as 0x0600 to make filesystem shrink available (Vista or later). _WIN32_WINNT cannot be defined as 0x0600 for the entire user-space projects because it breaks the main font app when the app is running on XP (likely an MS bug). IMPORTANT: Due to this issue, functions in this file must not directly interact with GUI. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9475a61d76001ed2c478951ea1dc17ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9475a61d76001ed2c478951ea1dc17ca">&#9670;&nbsp;</a></span>CheckRequirementsForNonSysInPlaceEnc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CheckRequirementsForNonSysInPlaceEnc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devicePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>silent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Access the partition Checks if the filesystem is formated in NTFS Checks if the filesystem can be safely shrunk Determines the filesystem size and checks if its long enough Checks free space on filesystem Checks if sector size is supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BOOL</td><td>silent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">const</td><td>char * devicePath </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOL FALSE if (CurrentOSMajor &lt; 6) FALSE if (partitionNumber == 0) FALSE if (dev == INVALID_HANDLE_VALUE) FALSE if (FakeDosNameForDevice (devicePath, dosDev, devName, FALSE) != 0) FALSE if (!DeviceIoControl (dev, FSCTL_GET_NTFS_VOLUME_DATA, NULL, 0, (LPVOID) &amp;ntfsVolData, sizeof (ntfsVolData), &amp;nBytesReturned, NULL)) FALSE if (NewFileSysSizeAfterShrink (dev, devicePath, NULL, NULL, silent) == -1) FALSE if (ntfsVolData.BytesPerSector &gt; GST_MAX_VOLUME_SECTOR_SIZE || ntfsVolData.BytesPerSector % ENCRYPTION_DATA_UNIT_SIZE != 0) FALSE if (ntfsVolData.FreeClusters.QuadPart * ntfsVolData.BytesPerCluster &lt; GST_TOTAL_VOLUME_HEADERS_SIZE) FALSE if (!DeviceIoControl(dev, FSCTL_GET_NTFS_VOLUME_DATA, NULL, 0, (LPVOID)&amp;ntfsVolData, sizeof(ntfsVolData), &amp;nBytesReturned, NULL)) FALSE if (deviceSize &lt; GST_NONSYS_INPLACE_ENC_MIN_VOL_SIZE) FALSE if (deviceSize &lt; 0) TRUE otherwise </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c_a9475a61d76001ed2c478951ea1dc17ca_icgraph.png" border="0" usemap="#_in_place_8c_a9475a61d76001ed2c478951ea1dc17ca_icgraph" alt=""/></div>
<map name="_in_place_8c_a9475a61d76001ed2c478951ea1dc17ca_icgraph" id="_in_place_8c_a9475a61d76001ed2c478951ea1dc17ca_icgraph">
<area shape="rect" id="node2" href="_in_place_8c.html#a6370868e40894b842cb36a61b82f3185" title="Gain raw access, shrink the filesystem Create header backup on the partition. Decrypt the backup head..." alt="" coords="257,13,448,39"/>
</map>
</div>

</div>
</div>
<a id="a6370868e40894b842cb36a61b82f3185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6370868e40894b842cb36a61b82f3185">&#9670;&nbsp;</a></span>EncryptPartitionInPlaceBegin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EncryptPartitionInPlaceBegin </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="struct_f_o_r_m_a_t___v_o_l___p_a_r_a_m_e_t_e_r_s.html">FORMAT_VOL_PARAMETERS</a> *&#160;</td>
          <td class="paramname"><em>volParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile HANDLE *&#160;</td>
          <td class="paramname"><em>outHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WipeAlgorithmId&#160;</td>
          <td class="paramname"><em>wipeAlgorithm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gain raw access, shrink the filesystem Create header backup on the partition. Decrypt the backup header to verify it has been correctly written Conceal the NTFS filesystem If a drive letter is assigned to the device, remove it Add the wizard to the system startup sequence if appropriate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volatile</td><td>WipeAlgorithmId wipeAlgorithm </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">volatile</td><td>HANDLE * outHandle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">volatile</td><td><a class="el" href="struct_f_o_r_m_a_t___v_o_l___p_a_r_a_m_e_t_e_r_s.html">FORMAT_VOL_PARAMETERS</a> wipeAlgorithm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int ERR_DONT_REPORT ERR_OUTOFMEMORY ERR_PARAMETER_INCORRECT ERR_OS_ERROR nStatus </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c_a6370868e40894b842cb36a61b82f3185_cgraph.png" border="0" usemap="#_in_place_8c_a6370868e40894b842cb36a61b82f3185_cgraph" alt=""/></div>
<map name="_in_place_8c_a6370868e40894b842cb36a61b82f3185_cgraph" id="_in_place_8c_a6370868e40894b842cb36a61b82f3185_cgraph">
<area shape="rect" id="node2" href="_in_place_8c.html#ae9dfd12e4ac63e5ffa4e47c017607d16" title="Change NonSysInplaceEncStatus value. " alt="" coords="245,5,447,32"/>
<area shape="rect" id="node3" href="_in_place_8c.html#a9475a61d76001ed2c478951ea1dc17ca" title="Access the partition Checks if the filesystem is formated in NTFS Checks if the filesystem can be saf..." alt="" coords="244,57,448,98"/>
<area shape="rect" id="node4" href="_dlgcode_8c.html#a6a253a8a5ffde74f3ee574fce090d45f" title="Returns &#45;1 if there&#39;s an error. " alt="" coords="293,123,399,149"/>
<area shape="rect" id="node5" href="_dlgcode_8c.html#a980ae61866933e3a3a3b1a2074505341" title="Get all partition informations. " alt="" coords="496,123,607,149"/>
<area shape="rect" id="node6" href="_grasshopper_cipher_8c.html#ad7ac77c93d4d2a4f28cf4f053605bef0" title="L conversion (16 iteration of R) " alt="" coords="655,123,693,149"/>
<area shape="rect" id="node7" href="_grasshopper_cipher_8c.html#abb3e0356548dd4a7ddefbb57b5255eb6" title="Apply R conversion. " alt="" coords="741,123,780,149"/>
<area shape="rect" id="node8" href="_grasshopper_cipher_8c.html#a6cbf3c8e29c4398a3dc1fa13e979da17" title="Get conversion value. " alt="" coords="828,123,867,149"/>
</map>
</div>

</div>
</div>
<a id="a75b99a80c929c1a59e5bfe118bed484a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b99a80c929c1a59e5bfe118bed484a">&#9670;&nbsp;</a></span>EncryptPartitionInPlaceResume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EncryptPartitionInPlaceResume </td>
          <td>(</td>
          <td class="paramtype">HANDLE&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile <a class="el" href="struct_f_o_r_m_a_t___v_o_l___p_a_r_a_m_e_t_e_r_s.html">FORMAT_VOL_PARAMETERS</a> *&#160;</td>
          <td class="paramname"><em>volParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WipeAlgorithmId&#160;</td>
          <td class="paramname"><em>wipeAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile BOOL *&#160;</td>
          <td class="paramname"><em>bTryToCorrectReadErrors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume the encryption of the partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volatile</td><td>BOOL * bTryToCorrectReadErrors </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">WipeAlgorithmId</td><td>wipeAlgorithm </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">volatile</td><td><a class="el" href="struct_f_o_r_m_a_t___v_o_l___p_a_r_a_m_e_t_e_r_s.html">FORMAT_VOL_PARAMETERS</a> * volParams </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">HANDLE</td><td>dev </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int nStatus </dd></dl>

</div>
</div>
<a id="ac40985f7b9b7fcbc39c425e0443cb664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40985f7b9b7fcbc39c425e0443cb664">&#9670;&nbsp;</a></span>FastVolumeHeaderUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FastVolumeHeaderUpdate </td>
          <td>(</td>
          <td class="paramtype">HANDLE&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_p_t_o___i_n_f_o__t.html">CRYPTO_INFO</a> *&#160;</td>
          <td class="paramname"><em>headerCryptoInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_p_t_o___i_n_f_o__t.html">CRYPTO_INFO</a> *&#160;</td>
          <td class="paramname"><em>masterCryptoInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__int64&#160;</td>
          <td class="paramname"><em>deviceSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the volume header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">__int64</td><td>deviceSize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CRYPTO_INFO</td><td>* masterCryptoInfo </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CRYPTO_INFO</td><td>* headerCryptoInfo </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">HANDLE</td><td>dev </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int nStatus </dd></dl>

</div>
</div>
<a id="a1cafb8de24df4b57cef88272ac6445e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cafb8de24df4b57cef88272ac6445e1">&#9670;&nbsp;</a></span>MoveClustersBeforeThreshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL MoveClustersBeforeThreshold </td>
          <td>(</td>
          <td class="paramtype">HANDLE&#160;</td>
          <td class="paramname"><em>volumeHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PWSTR&#160;</td>
          <td class="paramname"><em>volumeDevicePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64&#160;</td>
          <td class="paramname"><em>clusterThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the cluster before threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int64</td><td>clusterThreshold </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PWSTR</td><td>volumeDevicePath </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">HANDLE</td><td>volumeHandle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOL FALSE if (drive == -1) MoveClustersBeforeThresholdInDir (volumeHandle, volumeRoot, clusterThreshold) otherwise </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c_a1cafb8de24df4b57cef88272ac6445e1_cgraph.png" border="0" usemap="#_in_place_8c_a1cafb8de24df4b57cef88272ac6445e1_cgraph" alt=""/></div>
<map name="_in_place_8c_a1cafb8de24df4b57cef88272ac6445e1_cgraph" id="_in_place_8c_a1cafb8de24df4b57cef88272ac6445e1_cgraph">
<area shape="rect" id="node2" href="_dlgcode_8c.html#af678fa10d3bbe8c424ad511817c3d9b3" title="Returns drive letter number assigned to device (&#45;1 if none) " alt="" coords="247,5,415,32"/>
<area shape="rect" id="node4" href="_grasshopper_cipher_8c.html#ad7ac77c93d4d2a4f28cf4f053605bef0" title="L conversion (16 iteration of R) " alt="" coords="516,56,555,83"/>
<area shape="rect" id="node3" href="_dlgcode_8c.html#a298a94adf70e2908284827f565560429" title="Resolv all symbolic link. " alt="" coords="463,5,608,32"/>
<area shape="rect" id="node5" href="_grasshopper_cipher_8c.html#abb3e0356548dd4a7ddefbb57b5255eb6" title="Apply R conversion. " alt="" coords="656,56,695,83"/>
<area shape="rect" id="node6" href="_grasshopper_cipher_8c.html#a6cbf3c8e29c4398a3dc1fa13e979da17" title="Get conversion value. " alt="" coords="743,56,781,83"/>
</map>
</div>

</div>
</div>
<a id="a4f6f94a57238f4c66a4b404aa19e1dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f6f94a57238f4c66a4b404aa19e1dce">&#9670;&nbsp;</a></span>SaveNonSysInPlaceEncSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL SaveNonSysInPlaceEncSettings </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WipeAlgorithmId&#160;</td>
          <td class="paramname"><em>newWipeAlgorithm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WipeAlgorithmId</td><td>newWipeAlgorithm </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>delta </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOL TRUE if (delta == 0) TRUE if (count &lt; 1) SaveBufferToFile (str, GetConfigPath (GST_APPD_FILENAME_NONSYS_INPLACE_ENC), strlen(str), FALSE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c_a4f6f94a57238f4c66a4b404aa19e1dce_cgraph.png" border="0" usemap="#_in_place_8c_a4f6f94a57238f4c66a4b404aa19e1dce_cgraph" alt=""/></div>
<map name="_in_place_8c_a4f6f94a57238f4c66a4b404aa19e1dce_cgraph" id="_in_place_8c_a4f6f94a57238f4c66a4b404aa19e1dce_cgraph">
<area shape="rect" id="node2" href="_dlgcode_8c.html#ae6a606cd06400041069c4c90e555c06d" title="Returns the number of partitions where non&#45;system in&#45;place encryption is progress or had been in prog..." alt="" coords="284,107,495,133"/>
<area shape="rect" id="node3" href="_dlgcode_8c.html#a34c34fd84e82b5e8d667bd36376db452" title="Returns TRUE if the file or directory exists (both may be enclosed in quotation marks). " alt="" coords="585,5,665,32"/>
<area shape="rect" id="node4" href="_dlgcode_8c.html#a3e18df17364bcfc0f378dece8880aaa0" title="Get the configuration path. " alt="" coords="572,107,679,133"/>
<area shape="rect" id="node8" href="_dlgcode_8c.html#a4125d1015a6b5494fcebef68b9dcb316" title="Remove encryption notifications. " alt="" coords="264,56,515,83"/>
<area shape="rect" id="node9" href="_dlgcode_8c.html#a353c746ce500305b51cbc0478c157c5c" title="If bAppend is TRUE, the buffer is appended to an existing file. If bAppend is FALSE, any existing file is replaced. If an error occurs, the incomplete file is deleted (provided that bAppend is FALSE) and the function returns false. " alt="" coords="330,208,449,235"/>
<area shape="rect" id="node7" href="_dlgcode_8c.html#a4ffbe57c23617a63122d4a7009ddc63d" title="Load a file and returns NULL if there&#39;s any error. Although the buffer can contain binary data..." alt="" coords="590,157,661,184"/>
<area shape="rect" id="node5" href="_dlgcode_8c.html#a206c57e989cc33f67c4f9524e33fa60a" title="Check the install mode status. " alt="" coords="736,56,857,83"/>
<area shape="rect" id="node6" href="_dlgcode_8c.html#a8738b4ced6bca3b8d0127896585242a5" title="Get the modificated path. " alt="" coords="749,107,844,133"/>
<area shape="rect" id="node10" href="_dlgcode_8c.html#acc8513663d1e7dbc6ecdd85ddabf5eb3" title="Handle windows32 errors. " alt="" coords="563,208,688,235"/>
</map>
</div>

</div>
</div>
<a id="ae9dfd12e4ac63e5ffa4e47c017607d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9dfd12e4ac63e5ffa4e47c017607d16">&#9670;&nbsp;</a></span>SetNonSysInplaceEncUIStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetNonSysInplaceEncUIStatus </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nonSysInplaceEncStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change NonSysInplaceEncStatus value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>nonSysInplaceEncStatus </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c_ae9dfd12e4ac63e5ffa4e47c017607d16_icgraph.png" border="0" usemap="#_in_place_8c_ae9dfd12e4ac63e5ffa4e47c017607d16_icgraph" alt=""/></div>
<map name="_in_place_8c_ae9dfd12e4ac63e5ffa4e47c017607d16_icgraph" id="_in_place_8c_ae9dfd12e4ac63e5ffa4e47c017607d16_icgraph">
<area shape="rect" id="node2" href="_in_place_8c.html#a6370868e40894b842cb36a61b82f3185" title="Gain raw access, shrink the filesystem Create header backup on the partition. Decrypt the backup head..." alt="" coords="256,5,447,32"/>
</map>
</div>

</div>
</div>
<a id="a6d1ee15344595fd5805894c814d35d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1ee15344595fd5805894c814d35d93">&#9670;&nbsp;</a></span>ShowInPlaceEncErrMsgWAltSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShowInPlaceEncErrMsgWAltSteps </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>iniStrId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>bErr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Show error or warining. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BOOL</td><td>bErr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">char</td><td>* iniStrId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_in_place_8c_a6d1ee15344595fd5805894c814d35d93_cgraph.png" border="0" usemap="#_in_place_8c_a6d1ee15344595fd5805894c814d35d93_cgraph" alt=""/></div>
<map name="_in_place_8c_a6d1ee15344595fd5805894c814d35d93_cgraph" id="_in_place_8c_a6d1ee15344595fd5805894c814d35d93_cgraph">
<area shape="rect" id="node2" href="_boot_console_io_8cpp.html#a33007bfd2971c5edeb62670ed938205f" title="Print the string buffer and return the position when escape key is pressed or at the end of the buffe..." alt="" coords="257,5,335,32"/>
<area shape="rect" id="node3" href="_grasshopper_cipher_8c.html#ad7ac77c93d4d2a4f28cf4f053605bef0" title="L conversion (16 iteration of R) " alt="" coords="277,56,315,83"/>
<area shape="rect" id="node6" href="_dlgcode_8c.html#aeb4c15f61dd8f5bf8ed4f13bf7a97766" title="Draw error not as string id in Unicode. " alt="" coords="254,107,338,133"/>
<area shape="rect" id="node7" href="_dlgcode_8c.html#ac49da1ec17385cf7a536321cd4895d79" title="Draw warning not as string id in Unicode. " alt="" coords="244,157,348,184"/>
<area shape="rect" id="node4" href="_grasshopper_cipher_8c.html#abb3e0356548dd4a7ddefbb57b5255eb6" title="Apply R conversion. " alt="" coords="396,56,435,83"/>
<area shape="rect" id="node5" href="_grasshopper_cipher_8c.html#a6cbf3c8e29c4398a3dc1fa13e979da17" title="Get conversion value. " alt="" coords="483,56,521,83"/>
</map>
</div>

</div>
</div>
<a id="a7ec0e7e82e69bdb79755dabc8f42edbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec0e7e82e69bdb79755dabc8f42edbd">&#9670;&nbsp;</a></span>ZeroUnreadableSectors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZeroUnreadableSectors </td>
          <td>(</td>
          <td class="paramtype">HANDLE&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LARGE_INTEGER&#160;</td>
          <td class="paramname"><em>startOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union_u_i_n_t64___s_t_r_u_c_t.html">uint64</a> *&#160;</td>
          <td class="paramname"><em>zeroedSectorCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Repairs damaged sectors (i.e. those with read errors) by zeroing them. Note that this operating fails if there are any write errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint64</td><td>* zeroedSectorCount </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>sectorSize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int64</td><td>size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LARGE_INTEGER</td><td>startOffset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">HANDLE</td><td>dev </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int ERR_OS_ERROR if (SetFilePointerEx (dev, startOffset, NULL, FILE_BEGIN) == 0) ERR_OS_ERROR if (SetFilePointerEx (dev, workOffset, NULL, FILE_BEGIN) == 0) ERR_OS_ERROR if (WriteFile (dev, sectorBuffer, sectorSize, &amp;n, NULL) == 0) ERR_OUTOFMEMORY if (!sectorBuffer) ERR_SUCCESS otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
