<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gostcrypt: Common/Fat.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gostcrypt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4ab6b4cc6a7edbff49100e9123df213f.html">Common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Fat.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;Gstdefs.h&quot;</code><br />
<code>#include &quot;Crypto.h&quot;</code><br />
<code>#include &quot;Common/Endian.h&quot;</code><br />
<code>#include &quot;Format.h&quot;</code><br />
<code>#include &quot;Fat.h&quot;</code><br />
<code>#include &quot;Progress.h&quot;</code><br />
<code>#include &quot;Random.h&quot;</code><br />
<code>#include &quot;Volumes.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Fat.c:</div>
<div class="dyncontent">
<div class="center"><img src="_fat_8c__incl.png" border="0" usemap="#_common_2_fat_8c" alt=""/></div>
<map name="_common_2_fat_8c" id="_common_2_fat_8c">
<area shape="rect" id="node4" href="_time_8h_source.html" title="time.h" alt="" coords="543,80,601,107"/>
<area shape="rect" id="node14" href="_gstdefs_8h_source.html" title="Gstdefs.h" alt="" coords="721,304,799,331"/>
<area shape="rect" id="node16" href="_crypto_8h_source.html" title="Crypto.h" alt="" coords="965,155,1035,181"/>
<area shape="rect" id="node24" href="_endian_8h_source.html" title="Common/Endian.h" alt="" coords="677,155,806,181"/>
<area shape="rect" id="node25" href="_format_8h_source.html" title="Format.h" alt="" coords="1247,155,1321,181"/>
<area shape="rect" id="node26" href="_fat_8h_source.html" title="Fat.h" alt="" coords="1038,80,1090,107"/>
<area shape="rect" id="node27" href="_progress_8h_source.html" title="Progress.h" alt="" coords="1115,80,1200,107"/>
<area shape="rect" id="node28" href="_random_8h_source.html" title="Random.h" alt="" coords="830,80,911,107"/>
<area shape="rect" id="node29" href="_volumes_8h_source.html" title="Volumes.h" alt="" coords="1439,155,1523,181"/>
<area shape="rect" id="node5" href="_platform_base_8h_source.html" title="PlatformBase.h" alt="" coords="286,155,397,181"/>
<area shape="rect" id="node17" href="_gost_cipher_8h_source.html" title="GostCipher.h" alt="" coords="817,229,916,256"/>
<area shape="rect" id="node18" href="_grasshopper_cipher_8h_source.html" title="GrasshopperCipher.h" alt="" coords="991,229,1135,256"/>
<area shape="rect" id="node19" href="_stribog_8h_source.html" title="Stribog.h" alt="" coords="1159,229,1233,256"/>
<area shape="rect" id="node20" href="_whirlpool_8h_source.html" title="Whirlpool.h" alt="" coords="1373,229,1459,256"/>
<area shape="rect" id="node21" href="_gost_hash_8h_source.html" title="GostHash.h" alt="" coords="1257,229,1348,256"/>
<area shape="rect" id="node22" href="_gf_mul_8h_source.html" title="GfMul.h" alt="" coords="727,229,793,256"/>
<area shape="rect" id="node23" href="_password_8h_source.html" title="Password.h" alt="" coords="1484,229,1575,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0e7b84347ecb83d9038c8ded437101cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fat_8c.html#a0e7b84347ecb83d9038c8ded437101cd">GetFatParams</a> (<a class="el" href="structfatparams__t.html">fatparams</a> *ft)</td></tr>
<tr class="memdesc:a0e7b84347ecb83d9038c8ded437101cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get FAT parameters.  <a href="#a0e7b84347ecb83d9038c8ded437101cd">More...</a><br /></td></tr>
<tr class="separator:a0e7b84347ecb83d9038c8ded437101cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b663b84558c13ffeb871e4f4208424"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fat_8c.html#a72b663b84558c13ffeb871e4f4208424">PutBoot</a> (<a class="el" href="structfatparams__t.html">fatparams</a> *ft, unsigned char *boot)</td></tr>
<tr class="memdesc:a72b663b84558c13ffeb871e4f4208424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put boot procedure.  <a href="#a72b663b84558c13ffeb871e4f4208424">More...</a><br /></td></tr>
<tr class="separator:a72b663b84558c13ffeb871e4f4208424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff5edced3d28f3646d84691cb95fdc6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fat_8c.html#a5ff5edced3d28f3646d84691cb95fdc6">FormatFat</a> (unsigned __int64 startSector, <a class="el" href="structfatparams__t.html">fatparams</a> *ft, void *dev, <a class="el" href="struct_c_r_y_p_t_o___i_n_f_o__t.html">PCRYPTO_INFO</a> cryptoInfo, BOOL quickFormat)</td></tr>
<tr class="memdesc:a5ff5edced3d28f3646d84691cb95fdc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format to FAT.  <a href="#a5ff5edced3d28f3646d84691cb95fdc6">More...</a><br /></td></tr>
<tr class="separator:a5ff5edced3d28f3646d84691cb95fdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section version"><dt>Version</dt><dd>1.3.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>22/01/2017 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5ff5edced3d28f3646d84691cb95fdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff5edced3d28f3646d84691cb95fdc6">&#9670;&nbsp;</a></span>FormatFat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FormatFat </td>
          <td>(</td>
          <td class="paramtype">unsigned __int64&#160;</td>
          <td class="paramname"><em>startSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfatparams__t.html">fatparams</a> *&#160;</td>
          <td class="paramname"><em>ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_p_t_o___i_n_f_o__t.html">PCRYPTO_INFO</a>&#160;</td>
          <td class="paramname"><em>cryptoInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>quickFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Format to FAT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BOOL</td><td>quickFormat </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PCRYPTO_INFO</td><td>cryptoInfo </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">void</td><td>* dev </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fatparams</td><td>* ft </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>__int64 startSector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int ERR_VOL_SEEKING if (!SetFilePointerEx ((HANDLE) dev, startOffset, &amp;newOffset, FILE_BEGIN) || newOffset.QuadPart != startOffset.QuadPart) ERR_OUTOFMEMORY if (!write_buf) retVal if (retVal != ERR_SUCCESS) ERR_MODE_INIT_FAILED if (!EAInitMode (cryptoInfo)) ERR_OS_ERROR goto fail 0 else </dd></dl>

</div>
</div>
<a id="a0e7b84347ecb83d9038c8ded437101cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7b84347ecb83d9038c8ded437101cd">&#9670;&nbsp;</a></span>GetFatParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetFatParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfatparams__t.html">fatparams</a> *&#160;</td>
          <td class="paramname"><em>ft</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get FAT parameters. </p>
<p>Legal Notice: Some portions of the source code contained in this file were derived from the source code of Encryption for the Masses 2.02a, which is Copyright (c) 1998-2000 Paul Le Roux and which is governed by the 'License Agreement for Encryption for the Masses'. Modifications and additions to the original source code (contained in this file) and all other portions of this file are Copyright (c) 2003-2010 TrueCrypt Developers Association and are governed by the TrueCrypt License 3.0 the full text of which is contained in the file License.txt included in TrueCrypt binary and source code distribution packages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fatparams</td><td>* ft </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a72b663b84558c13ffeb871e4f4208424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b663b84558c13ffeb871e4f4208424">&#9670;&nbsp;</a></span>PutBoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PutBoot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfatparams__t.html">fatparams</a> *&#160;</td>
          <td class="paramname"><em>ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>boot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put boot procedure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char * boot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fatparams</td><td>* ft </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
